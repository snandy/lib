<!DOCTYPE HTML>
<html> 
<head> 
	<meta charset="utf-8"> 
	<title>window.name方式跨域</title>
</head> 
<body>
<input type="button" value="Get Name 1" onclick="clk1()"/>
<input type="button" value="Get Name 2" onclick="clk2()"/>
<iframe id="ifr" src="http://snandy.sinaapp.com/corss/data.html" style="display:none" onload="getData()"></iframe>
<script type="text/javascript">
	window.name = '来自 window.name1.html 的数据';
	function clk1() {
		// location.href = 'window.name2.html';	
		location.href = 'http://snandy.sinaapp.com/corss/window.name2.html';	
	}
	function clk2() {
		// getData('http://snandy.sinaapp.com/corss/data.html', function(str) {
		// 	alert(str)
		// })
	}

	function getData() {
		ifr.onload = function() {
			var win = ifr.contentWindow
			alert(win.name)
		}
		ifr.src = "about:blank"	
	}
</script>
</body>
</html>

