<!DOCTYPE html>
<html>

	<head>
    	<meta charset='utf-8' />
    	<title>Backbone.View</title>
	    <style type="text/css">
	    	p {
	    		background: gray;
	    	}
	    	pre {
    		  	background-color: #F8F8F8;
			    border: 1px solid #CCCCCC;
			    border-radius: 3px 3px 3px 3px;
			    font-size: 13px;
			    line-height: 19px;
			    overflow: auto;
			    padding: 6px 10px;
			    width: 500px;
	    	}
	 	</style>
    	<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js"></script>
    	<script src="http://documentcloud.github.com/underscore/underscore.js"></script>
    	<script src="http://documentcloud.github.com/backbone/backbone.js"></script>
  	</head>

	<body>
<h3>1、el为页面现有元素, el可为选择器（取第一个匹配元素）或jq对象，events设置事件代理，注意handler上下文永远是view自身</h3>
<p id="p1" style="border:1px solid gray">
	<span>test</span><a href="javascript://">go</a>
</p>
<script>
	var View1 = Backbone.View.extend({
		el: $('#p1'),
		events: {
			'click': 'pclick',
			'click span': 'childClick',
			'click a': 'childClick'
		},
		pclick: function() {
			alert(this.el)
		},
		childClick: function(e) {
			e.stopPropagation()
			alert(e.target.innerHTML)
		}
	})
	var view1 = new View1
</script>
<pre>
var View1 = Backbone.View.extend({
	el: $('#p1'), // '#p1'
	events: {
		'click': 'pclick',
		'click span': 'childClick',
		'click a': 'childClick'
	},
	pclick: function() {
		alert(this.el)
	},
	childClick: function(e) {
		e.stopPropagation()
		alert(e.target.innerHTML)
	}
})
var view1 = new View1
</pre>

<h3>2、点击button1，每次忘div1中添加一个div元素。initilize，render使用</h3>
<button id="btn1">button1</button>
<div id="div1"></div>
<script>
	var count = 0
	var View2 = Backbone.View.extend({
		initialize: function(options, content) {
			this.$el.html('<p>' + content + '</p>')
		},
		events: {
			'click p': 'pclick'
		},
		pclick: function(e) {
			alert(e.target.innerHTML)
		}
	})
	$('#btn1').click(function() {
		var view = new View2(null, count++)
		$('#div1').append(view.$el)
	})
</script>


	</body>
</html>
