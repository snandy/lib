<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>addEventListener</title>
</head>
<body>
<script type="text/javascript">
function toFixed(number, precision) {
    var multiplier  = Math.pow(10, precision + 1)
    var wholeNumber = Math.round(number * multiplier ).toString()
    var length      = wholeNumber.length - 1
    wholeNumber = wholeNumber.substr(0, length)
    return [
        wholeNumber.substr(0, length - precision),
        wholeNumber.substr(-precision)
    ].join('.');
}

function toPrecision(number, x) {
    var str = number + ''
    return str.substr(0,1) + str.substr(2, x)
}

/*
 * 修复 firefox/chrome 中 toFixed 兼容性问题
 * firefox/chrome 中，对于小数最后一位为 5 时进位不正确，修复方式即判断最后一位为 5 的，改成 6， 再调用 toFixed
 */
function toFixed(number, precision) {
    var str = number + ''
    var len = str.length
    var last = str.substr(len-1, len)
    if (last == '5') {
        last = '6'
        str = str.substr(0, len-1) + last
        return (str - 0).toFixed(precision)        
    } else {
        return number.toFixed(precision)
    }
}

// var list = [
//     {n: "a", v: 1}, 
//     {n: "b", v: 1}, 
//     {n: "c", v: 1}, 
//     {n: "d", v: 1}, 
//     {n: "e", v: 1}, 
//     {n: "f", v: 1}, 
//     {n: "g", v: 1}, 
//     {n: "h", v: 1}, 
//     {n: "i", v: 1}, 
//     {n: "j", v: 1}, 
//     {n: "k", v: 1}
// ];
// list.sort(function (a, b) {
//     return a.n > b.n ? 1 : -1
// });
// for (var i = 0; i < list.length; i++) {
//     console.log(list[i].n)
// }

// var def = []
// var num = 40
// for (var i = 0; i < 24; i++) {
//     def[i] = num--;
// }
// def.sort(function(a, b) {
//     return a > b
// })

</script>
</body>
</html>